import re
from playwright.sync_api import Playwright, sync_playwright, expect


def run(playwright: Playwright) -> None:
    browser = playwright.chromium.launch(headless=False)
    context = browser.new_context()
    page = context.new_page()
    page.goto("https://demoqa.com/automation-practice-form")
    page.get_by_placeholder("First Name").click()
    page.get_by_placeholder("First Name").fill("dasd")
    page.get_by_placeholder("Last Name").click()
    page.get_by_placeholder("Last Name").fill("asdasd")
    page.get_by_placeholder("name@example.com").click()
    page.get_by_placeholder("name@example.com").fill("asdasd@asd")
    page.get_by_text("Male", exact=True).click()
    page.get_by_placeholder("Mobile Number").click()
    page.get_by_placeholder("Mobile Number").fill("+343241232")
    page.locator("#dateOfBirthInput").click()
    page.get_by_label("Choose Thursday, September 26th,").click()
    page.locator(".subjects-auto-complete__value-container").click()
    page.locator("#dateOfBirthInput").click()
    page.get_by_label("Choose Monday, September 2nd,").click()
    page.locator(".subjects-auto-complete__value-container").click()
    page.locator("#subjectsInput").fill("asdsdas")
    page.locator("div").filter(has_text=re.compile(r"^Sports$")).click()
    page.locator(".subjects-auto-complete__value-container").click()
    page.locator("#subjectsInput").fill("asdasd")
    page.get_by_label("Select picture").click()
    page.get_by_label("Select picture").set_input_files("58d9563e0249015b10f8e239.jpg")
    page.locator(".subjects-auto-complete__value-container").click()
    page.locator("#subjectsInput").fill("asdasdasd")
    page.get_by_placeholder("Current Address").click()
    page.get_by_placeholder("Current Address").fill("asdasdadas")
    page.get_by_placeholder("Current Address").click()
    page.get_by_placeholder("Current Address").fill("asdasdadasdsadsagfdhjkhk;lhjlhjkjhkh")
    page.get_by_text("Select State").click()
    page.get_by_text("Uttar Pradesh", exact=True).click()
    page.locator("div").filter(has_text=re.compile(r"^Select City$")).nth(3).click()
    page.get_by_text("Lucknow", exact=True).click()
    page.locator(".subjects-auto-complete__value-container").click()
    page.locator("#subjectsInput").fill("zxczxczx")
    page.locator("#dateOfBirth").click()
    page.locator(".subjects-auto-complete__value-container").click()
    page.locator(".container > div > div:nth-child(3)").click()
    page.get_by_role("button", name="Submit").click()
    page.get_by_placeholder("name@example.com").click()
    page.get_by_placeholder("name@example.com").fill("asdasd@asd.com")
    page.get_by_role("button", name="Submit").click()
    page.get_by_placeholder("Mobile Number").click()
    page.get_by_placeholder("Mobile Number").click()
    page.get_by_placeholder("Mobile Number").click()
    page.get_by_placeholder("Mobile Number").fill("+380754892")
    page.get_by_placeholder("Mobile Number").click()
    page.get_by_placeholder("Mobile Number").click()
    page.get_by_placeholder("Mobile Number").press("ArrowLeft")
    page.get_by_placeholder("Mobile Number").press("ArrowLeft")
    page.get_by_placeholder("Mobile Number").press("ArrowLeft")
    page.get_by_placeholder("Mobile Number").press("ArrowLeft")
    page.get_by_placeholder("Mobile Number").press("ArrowLeft")
    page.get_by_placeholder("Mobile Number").press("ArrowLeft")
    page.get_by_placeholder("Mobile Number").press("ArrowLeft")
    page.get_by_placeholder("Mobile Number").press("ArrowLeft")
    page.get_by_placeholder("Mobile Number").fill("380754892")
    page.get_by_placeholder("Mobile Number").press("ArrowRight")
    page.get_by_placeholder("Mobile Number").press("ArrowRight")
    page.get_by_placeholder("Mobile Number").press("ArrowRight")
    page.get_by_placeholder("Mobile Number").press("ArrowRight")
    page.get_by_placeholder("Mobile Number").press("ArrowRight")
    page.get_by_placeholder("Mobile Number").press("ArrowRight")
    page.get_by_placeholder("Mobile Number").press("ArrowRight")
    page.get_by_placeholder("Mobile Number").press("ArrowRight")
    page.get_by_placeholder("Mobile Number").press("ArrowRight")
    page.get_by_placeholder("Mobile Number").press("ArrowRight")
    page.get_by_placeholder("Mobile Number").press("ArrowRight")
    page.get_by_placeholder("Mobile Number").press("ArrowRight")
    page.get_by_placeholder("Mobile Number").fill("3807548925")
    page.get_by_role("button", name="Submit").click()
    page.get_by_label("Thanks for submitting the form").click()
    page.locator("div").filter(has_text="Thanks for submitting the form").nth(3).click()
    page.locator("#fixedban div").nth(1).click()
    page.get_by_role("cell", name="Student Email").click()
    page.get_by_role("cell", name="Label").click()
    page.get_by_role("cell", name="Student Name").click()
    page.get_by_role("cell", name="dasd asdasd").click()
    page.get_by_label("Thanks for submitting the form").click()
    page.locator("div").filter(has_text="Thanks for submitting the form").nth(3).click()
    page.get_by_label("Thanks for submitting the form").click()
    page.get_by_role("cell", name="3807548925").dblclick()
    page.get_by_text("Thanks for submitting the form").click()
    page.get_by_role("cell", name="asdasd@asd.com").click()

    # ---------------------
    context.close()
    browser.close()


with sync_playwright() as playwright:
    run(playwright)
